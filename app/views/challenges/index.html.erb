<p id="notice"><%= notice %></p>

<div class="header-container">
  <h1>Listing Challenges</h1>
</div>

<table class="table col-sm-8 table-striped">
  <thead class="thead-inverse">
    <tr>
      <th>Title</th>
      <th>Challenge ID</th>
      <th>Time created</th>
      <th>User viewcount</th>
    </tr>
  </thead>

  <tbody class = "text-left">
    <% @challenges.each do |challenge| %>
      <tr>
        <td><%= challenge.title %></td>
        <td><%= challenge.id %></td>
        <td><%= challenge.created_at %></td>
        <td><%= challenge.user_viewcount %></td>
        <td><%= link_to 'Show', challenge_path(challenge) %></td>

        <%- if (current_user.user_type?) %>
          <td><%= link_to 'Edit', edit_challenge_path(challenge) %></td>
          <td><%= link_to 'Destroy', challenge, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <%else%>
        <%end%>

      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%- if (current_user.user_type?) %> 
  <button type="button" class="btn btn-primary btn-lg gradient">
    <%= link_to 'New Challenge', new_challenge_path %>
  </button>
<%end %>
